<div th:replace="fragments/header"></div>
<div th:replace="fragments/navbar"></div>
    <div class="row">
        <div class="col-sm-12">
            <h1>Hello! Post ID is [[${postId}]]</h1>
            <p th:text="${content}">content</p>
            <p><a th:href="${'/post/' + postId + '/comment'}">Комментировать</a></p>
            <h3>Comments</h3>
            <div th:fragment="commentsFragment">
                <div th:each="comment : ${comments}">
                    <div class="border rounded p-2">
                        <div th:unless="${comment.deleted}">
                            <p th:text="${comment.user.name + ' ' + comment.date}" class="bg-secondary text-light"></p>
                            <p th:text="${comment.content}"></p>
                            <p>
                                <a th:href="${'/post/' + postId + '/comment/' + comment.id}">Редактировать</a>&nbsp;|&nbsp;
                                <a th:href="${'/post/' + postId + '/comment/' + comment.id + '/delete'}">Удалить</a>&nbsp;|&nbsp;
                                <a th:href="${'/post/' + postId + '/comment/' + comment.id + '/comment'}">Комментировать</a>
                            </p>
                        </div>
                        <div th:if="${comment.deleted}">
                            <p th:text="${comment.user.name + ' ' + comment.date}" class="bg-light text-muted"></p>
                            <p class="text-muted">Этот комментарий был удалён</p>
                        </div>
                    </div>
                    <div th:with="comments = ${comment.children}" th:include="::commentsFragment" class="ml-3 my-2" />
                </div>
            </div>
        </div>
    </div>
<div th:replace="fragments/footer"></div>
